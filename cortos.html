<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="peliculas.css">
	<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <title>Document</title>
</head>
<body>
    <main>

		<div class="peliculas-recomendadas contenedor">
			<div class="contenedor-titulo-controles">
				<h3>Mejores Cortometrajes</h3>
				
			</div>

			<div class="contenedor-principal">
				<button role="button"  id="flecha-izquierda" class="flecha-izquierda"><i class="fas fa-angle-left"></i></button>

				<div class="contenedor-carousel">
					<div class="carousel">
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=4INwx_tmTKw"><img height="162" src="maxresdefault.jpg" alt="cuerdas"></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=38y_1EWIE9I"><img height="162" src="snack attack.jpeg" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=pHJJq69KL20&t"><img height="162" src="el regalo.jpeg" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=nxDiy_a27Dg"><img height="162" src="coestion de actitud.PNG" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=R-ufluPWBuM"><img src="el refrijerador.jpeg" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=X2XTXjvcTcY"><img height="162" src="zero.jpg" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=B6uuIHpFkuo"><img height="162" src="purl.jpg" alt=""></a>
                        </div>
                        <div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=zqFm6iVrEZw"><img height="162" src="bao.jpeg" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=uMVtpCPx8ow"><img height="162" src="ger's game.jpeg" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=rwOuv0SgH2c"><img height="162" src="parcialmente.jpeg" alt=""></a>
						</div>

					</div>
				</div>

				<button role="button" id="flecha-derecha" class="flecha-derecha"><i class="fas fa-angle-right"></i></button>
			</div>
		
        </main>
        <script >const fila = document.querySelector('.contenedor-carousel');
			const peliculas = document.querySelectorAll('.pelicula');
			
			const flechaIzquierda = document.getElementById('flecha-izquierda');
			const flechaDerecha = document.getElementById('flecha-derecha');
			
			// ? ----- ----- Event Listener para la flecha derecha. ----- -----
			flechaDerecha.addEventListener('click', () => {
				fila.scrollLeft += fila.offsetWidth;
			
				const indicadorActivo = document.querySelector('.indicadores .activo');
				if(indicadorActivo.nextSibling){
					indicadorActivo.nextSibling.classList.add('activo');
					indicadorActivo.classList.remove('activo');
					
				}
			});
			
			// ? ----- ----- Event Listener para la flecha izquierda. ----- -----
			flechaIzquierda.addEventListener('click', () => {
				fila.scrollLeft -= fila.offsetWidth;
			
				const indicadorActivo = document.querySelector('.indicadores .activo');
				if(indicadorActivo.previousSibling){
					indicadorActivo.previousSibling.classList.add('activo');
					indicadorActivo.classList.remove('activo');
				}
			});
			
			// ? ----- ----- Paginacion ----- -----
			const numeroPaginas = Math.ceil(peliculas.length / 5);
			for(let i = 0; i < numeroPaginas; i++){
				const indicador = document.createElement('button');
			
				if(i === 0){
					indicador.classList.add('activo');
				}
			
				document.querySelector('.indicadores').appendChild(indicador);
				indicador.addEventListener('click', (e) => {
					fila.scrollLeft = i * fila.offsetWidth;
			
					document.querySelector('.indicadores .activo').classList.remove('activo');
					e.target.classList.add('activo');
				});
			}
			
			// ? ----- ----- Hover ----- -----
			peliculas.forEach((pelicula) => {
				pelicula.addEventListener('mouseenter', (e) => {
					const elemento = e.currentTarget;
					setTimeout(() => {
						peliculas.forEach(pelicula => pelicula.classList.remove('hover'));
						elemento.classList.add('hover');
					}, 300);
				});
			});
			
			fila.addEventListener('mouseleave', () => {
				peliculas.forEach(pelicula => pelicula.classList.remove('hover'));
			});</script>
        <script src="https://kit.fontawesome.com/d58ec692f8.js" crossorigin="anonymous"></script>
</body>
</html>