<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="estilos.css">
	<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet"> 
    <title>Document</title>
</head>
<body>
    <main>

		<div class="peliculas-recomendadas contenedor">
			<div class="contenedor-titulo-controles">
				<h3>Terror y más</h3>
				
			</div>

			<div class="contenedor-principal">
				<button role="button"  id="flecha-izquierda" class="flecha-izquierda"><i class="fas fa-angle-left"></i></button>

				<div class="contenedor-carousel">
					<div class="carousel">
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=Kk_P2drcNqA"><img title="coraline" height="162" src="El aro2.jpg" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=DxO_p5GlRQs"><img height="162" src="El bosque macabro.jpg" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=vj_thk6Zo3Q"><img height="162" src="El complejo diablo.jpg" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=EvfpKFp_784"><img height="162" src="El aro o.PNG" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=lMJZI_Q8atE"><img height="162" src="Encarcelados.PNG"></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=zLS0lGEJTrg"><img height="162" src="El grito de panico.jpg" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=varOQ3w7dKc"><img height="162" src="Una Pelicula de Huevos..10.jpg" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=CawNATAI3no"><img height="162" src="El extaño mundo de4 jack.jpg" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=sdIKEdmGZ9I"><img height="162" src="gnomo y julieta.jpg" alt=""></a>
						</div>
						<div class="pelicula">
							<a target="_blank" href="https://www.youtube.com/watch?v=iijB0mCTVsI"><img height="162" src="planeta willy.jpeg" alt=""></a>
						</div>

					</div>
				</div>

				<button role="button" id="flecha-derecha" class="flecha-derecha"><i class="fas fa-angle-right"></i></button>
			</div>
		
        </main>
        <script>const fila = document.querySelector('.contenedor-carousel');
			const peliculas = document.querySelectorAll('.pelicula');
			
			const flechaIzquierda = document.getElementById('flecha-izquierda');
			const flechaDerecha = document.getElementById('flecha-derecha');
			
			// ? ----- ----- Event Listener para la flecha derecha. ----- -----
			flechaDerecha.addEventListener('click', () => {
				fila.scrollLeft += fila.offsetWidth;
			
				const indicadorActivo = document.querySelector('.indicadores .activo');
				if(indicadorActivo.nextSibling){
					indicadorActivo.nextSibling.classList.add('activo');
					indicadorActivo.classList.remove('activo');
					
				}
			});
			
			// ? ----- ----- Event Listener para la flecha izquierda. ----- -----
			flechaIzquierda.addEventListener('click', () => {
				fila.scrollLeft -= fila.offsetWidth;
			
				const indicadorActivo = document.querySelector('.indicadores .activo');
				if(indicadorActivo.previousSibling){
					indicadorActivo.previousSibling.classList.add('activo');
					indicadorActivo.classList.remove('activo');
				}
			});
			
			// ? ----- ----- Paginacion ----- -----
			const numeroPaginas = Math.ceil(peliculas.length / 5);
			for(let i = 0; i < numeroPaginas; i++){
				const indicador = document.createElement('button');
			
				if(i === 0){
					indicador.classList.add('activo');
				}
			
				document.querySelector('.indicadores').appendChild(indicador);
				indicador.addEventListener('click', (e) => {
					fila.scrollLeft = i * fila.offsetWidth;
			
					document.querySelector('.indicadores .activo').classList.remove('activo');
					e.target.classList.add('activo');
				});
			}
			
			// ? ----- ----- Hover ----- -----
			peliculas.forEach((pelicula) => {
				pelicula.addEventListener('mouseenter', (e) => {
					const elemento = e.currentTarget;
					setTimeout(() => {
						peliculas.forEach(pelicula => pelicula.classList.remove('hover'));
						elemento.classList.add('hover');
					}, 300);
				});
			});
			
			fila.addEventListener('mouseleave', () => {
				peliculas.forEach(pelicula => pelicula.classList.remove('hover'));
			});</script>
        <script src="https://kit.fontawesome.com/d58ec692f8.js" crossorigin="anonymous"></script>
</body>
</html>